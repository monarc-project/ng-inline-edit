/**
 * ng-inline-edit v0.7.0 (http://tamerayd.in/ng-inline-edit)
 * Copyright 2016 Tamer Aydin (http://tamerayd.in)
 * Licensed under MIT
 */
!function(n,e,i){"use strict";e.module("angularInlineEdit.providers",[]).value("InlineEditConfig",{btnEdit:"Edit",btnSave:"",btnCancel:"",editOnClick:!1,onBlur:null,defaultGroup:"default"}).constant("InlineEditConstants",{CANCEL:"cancel",SAVE:"save"})}(window,window.angular),function(n,e,i){"use strict";e.module("angularInlineEdit.controllers",[]).controller("InlineEditController",["$scope","$document","$timeout",function(n,e,i){n.placeholder="",n.validationError=!1,n.validating=!1,n.isOnBlurBehaviorValid=!1,n.cancelOnBlur=!1,n.editMode=!1,n.inputValue="",n.editText=function(t){n.editMode=!0,n.inputValue="string"==typeof t?t:n.model,i(function(){n.editInput[0].focus(),n.isOnBlurBehaviorValid&&e.bind("click",n.onDocumentClick)},0)},n.applyText=function(t,l){function a(){n.model=d,n.callback({newValue:d}),n.editMode=!1}function o(){n.validationError=!0,i(function(){n.editText(d)},0)}function r(e){n.validating=!1,e&&l&&n.$apply()}var d=n.inputValue;if(n.validationError=!1,t||n.model===d)n.editMode=!1,l&&n.$apply();else{n.validating=!0,l&&n.$apply();var s=n.validate({newValue:n.inputValue});s&&s.then?s.then(a)["catch"](o)["finally"](r):s||"undefined"==typeof s?(a(),r(!0)):(o(),r(!0))}n.isOnBlurBehaviorValid&&e.unbind("click",n.onDocumentClick)},n.onInputKeyup=function(e){if(!n.validating)switch(e.keyCode){case 13:if(n.isInputTextarea)return;n.applyText(!1,!1);break;case 9:var i=0;e.shiftKey?i=n.position>0?n.position-1:Object.keys(n.$parent.listElements[n.group]).length-1:n.position<Object.keys(n.$parent.listElements[n.group]).length-1&&(i=n.position+1),n.applyText(!1,!1),n.$parent.listElements[n.group][i].editText();break;case 27:n.applyText(!0,!1)}},n.onInputKeyDown=function(e){if(!n.validating)switch(e.keyCode){case 9:e.preventDefault()}},n.onDocumentClick=function(e){n.validating||e.target!==n.editInput[0]&&n.applyText(n.cancelOnBlur,!0)}}])}(window,window.angular),function(n,e,i){"use strict";e.module("angularInlineEdit.directives",["angularInlineEdit.providers","angularInlineEdit.controllers"]).directive("inlineEdit",["$compile","InlineEditConfig","InlineEditConstants",function(n,t,l){return{restrict:"A",controller:"InlineEditController",scope:{model:"=inlineEdit",callback:"&inlineEditCallback",validate:"&inlineEditValidation"},link:function(a,o,r){a.model=a.$parent.$eval(r.inlineEdit),a.isInputTextarea=r.hasOwnProperty("inlineEditTextarea");var d=r.hasOwnProperty("inlineEditOnBlur")?r.inlineEditOnBlur:t.onBlur;d!==l.CANCEL&&d!==l.SAVE||(a.isOnBlurBehaviorValid=!0,a.cancelOnBlur=d===l.CANCEL);var s=e.element("<div class=\"ng-inline-edit\" ng-class=\"{'ng-inline-edit--validating': validating, 'ng-inline-edit--error': validationError}\">"),p=e.element((a.isInputTextarea?"<textarea ":'<input type="text" ')+'class="ng-inline-edit__input" ng-disabled="validating" ng-show="editMode" ng-keyup="onInputKeyup($event)" ng-model="inputValue" placeholder="{{placeholder}}" />'),u=e.element('<div class="ng-inline-edit__inner-container"></div>');u.append(e.element('<span class="ng-inline-edit__text" ng-class="{\'ng-inline-edit__text--placeholder\': !model}" '+(r.hasOwnProperty("inlineEditOnClick")||t.editOnClick?'ng-click="editText()" ':"")+'ng-if="!editMode">{{(model || placeholder)'+(r.hasOwnProperty("inlineEditFilter")?" | "+r.inlineEditFilter:"")+"}}</span>"));var c=r.hasOwnProperty("inlineEditBtnEdit")?r.inlineEditBtnEdit:t.btnEdit;c&&u.append(e.element('<a class="ng-inline-edit__button ng-inline-edit__button--edit" ng-if="!editMode" ng-click="editText()">'+c+"</a>"));var g=r.hasOwnProperty("inlineEditBtnSave")?r.inlineEditBtnSave:t.btnSave;g&&u.append(e.element('<a class="ng-inline-edit__button ng-inline-edit__button--save" ng-if="editMode && !validating" ng-click="applyText(false, false)">'+g+"</a>"));var E=r.hasOwnProperty("inlineEditBtnCancel")?r.inlineEditBtnCancel:t.btnCancel;E&&u.append(e.element('<a class="ng-inline-edit__button ng-inline-edit__button--cancel" ng-if="editMode && !validating" ng-click="applyText(true, false)">'+E+"</a>")),s.append(p).append(u),o.append(s);var v=r.hasOwnProperty("inlineEditGroup")?r.inlineEditGroup:t.defaultGroup;a.group=v,a.$parent.listElements==i&&(a.$parent.listElements=[]),a.$parent.listElements[a.group]==i&&(a.$parent.listElements[a.group]={});var f=r.hasOwnProperty("inlineEditPosition")?r.inlineEditPosition:Object.keys(a.$parent.listElements[a.group]).length;if(a.position=parseInt(f)<0?0:parseInt(f),a.position<Object.keys(a.$parent.listElements[a.group]).length&&a.$parent.listElements[a.group][a.position]!=i){var m={};for(var $ in a.$parent.listElements[a.group])if(parseInt($)>=a.position){var y=a.$parent.listElements[a.group][$];y.position=parseInt(y.position)+1,m[y.position]=y}else m[$]=a.$parent.listElements[a.group][$];a.$parent.listElements[a.group]=m}a.$parent.listElements[a.group][a.position]=a,a.editInput=p,r.$observe("inlineEdit",function(e){a.model=a.$parent.$eval(e),n(o.contents())(a)}),r.$observe("inlineEditPlaceholder",function(n){a.placeholder=n}),a.$watch("model",function(n){!isNaN(parseFloat(n))&&isFinite(n)&&0===n&&(a.model="0")}),a.$on("$destroy",function(){var n=parseInt(a.position);delete a.$parent.listElements[a.group][n];for(var e in a.$parent.listElements[a.group])if(e=parseInt(e),e>n){var i=a.$parent.listElements[a.group][e];delete a.$parent.listElements[a.group][e],i.position=parseInt(i.position)-1,a.$parent.listElements[a.group][i.position]=i}})}}}])}(window,window.angular),function(n,e,i){"use strict";e.module("angularInlineEdit",["angularInlineEdit.providers","angularInlineEdit.controllers","angularInlineEdit.directives"])}(window,window.angular);